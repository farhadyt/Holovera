<!-- templates/auth_base.html -->
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Holovera - 3D Buket Dizayn Platforması{% endblock %}</title>
    {% load static %}
    {% load i18n %}
    <!-- CSS files -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
    {% block extra_css %}{% endblock %}
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="auth-page">
    <!-- Simplified Navigation Bar for auth pages -->
    <header class="auth-header">
        <nav class="auth-nav">
            <div class="logo">
                <a href="/">
                    <span class="logo-text">HOLOVERA</span>
                    <span class="logo-glow"></span>
                </a>
            </div>
            
            <div class="auth-controls">
                <div class="language-selector">
                    <form action="{% url 'set_language' %}" method="post" class="language-form">
                        {% csrf_token %}
                        <input name="next" type="hidden" value="{{ request.path }}">
                        <select name="language" class="language-select" onchange="this.form.submit()">
                            {% get_current_language as CURRENT_LANGUAGE %}
                            {% get_available_languages as LANGUAGES %}
                            {% for lang_code, lang_name in LANGUAGES %}
                                <option value="{{ lang_code }}" {% if lang_code == CURRENT_LANGUAGE %}selected{% endif %}>
                                    {{ lang_name }}
                                </option>
                            {% endfor %}
                        </select>
                    </form>
                </div>
                
                <a href="#" class="icon-btn search-btn">
                    <i class="fas fa-search"></i>
                    <span class="btn-glow"></span>
                </a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
            <div class="message {{ message.tags }}">
                {{ message }}
                <span class="close-message">&times;</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        {% block content %}{% endblock %}
    </main>

    <!-- JavaScript -->
    <script>
        // Optimizasiya olunmuş JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Logo hover effekti - sadələşdirilmiş
            const logo = document.querySelector('.logo a');
            const logoGlow = document.querySelector('.logo-glow');
            
            if (logo && logoGlow) {
                logo.addEventListener('mouseenter', function() {
                    logoGlow.style.width = '100%';
                    logoGlow.style.opacity = '0.7';
                });
                
                logo.addEventListener('mouseleave', function() {
                    logoGlow.style.width = '0';
                    logoGlow.style.opacity = '0';
                });
            }
            
            // Mesaj bağlama funksionalı
            const closeButtons = document.querySelectorAll('.close-message');
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.parentElement.style.display = 'none';
                });
            });
        });
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>