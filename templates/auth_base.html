<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Holovera - 3D Buket Dizayn PlatformasÄ±{% endblock %}</title>
    {% load static %}
    {% load i18n %}
    <!-- CSS files -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
    {% block extra_css %}{% endblock %}
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="auth-page">
    <!-- Enhanced Navigation Bar for auth pages -->
    <header class="auth-header">
        <div class="auth-header-bg"></div>
        <nav class="auth-nav">
            <div class="logo">
                <a href="/">
                    <span class="logo-text">HOLOVERA</span>
                    <div class="logo-glow"></div>
                </a>
            </div>
            
            <div class="auth-controls">
                <div class="language-dropdown">
                    <button class="lang-btn">
                        <i class="fas fa-globe"></i>
                        <span class="current-lang">{% get_current_language as LANGUAGE_CODE %}{{ LANGUAGE_CODE|upper }}</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-options">
                        <form action="{% url 'set_language' %}" method="post" class="language-form">
                            {% csrf_token %}
                            <input name="next" type="hidden" value="{{ request.path }}">
                            {% get_available_languages as LANGUAGES %}
                            {% for lang_code, lang_name in LANGUAGES %}
                            <button type="submit" name="language" value="{{ lang_code }}" class="lang-option {% if lang_code == LANGUAGE_CODE %}active{% endif %}">
                                <span class="lang-flag flag-{{ lang_code }}"></span>
                                <span class="lang-name">{{ lang_name }}</span>
                            </button>
                            {% endfor %}
                        </form>
                    </div>
                </div>
                
                <a href="#" class="icon-btn search-btn">
                    <i class="fas fa-search"></i>
                    <span class="btn-glow"></span>
                </a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
            <div class="message {{ message.tags }}">
                {{ message }}
                <span class="close-message">&times;</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        {% block content %}{% endblock %}
    </main>

    <!-- Background elements -->
    <div class="bg-elements">
        <div class="bg-element gift-element"></div>
        <div class="bg-element flower-element"></div>
        <div class="bg-element basket-element"></div>
        <div class="bg-element ribbon-element"></div>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Logo hover effect
            const logo = document.querySelector('.logo a');
            const logoGlow = document.querySelector('.logo-glow');
            
            if (logo && logoGlow) {
                logo.addEventListener('mouseenter', function() {
                    logoGlow.classList.add('active');
                });
                
                logo.addEventListener('mouseleave', function() {
                    logoGlow.classList.remove('active');
                });
            }
            
            // Language dropdown
            const langBtn = document.querySelector('.lang-btn');
            const langOptions = document.querySelector('.language-options');
            
            if (langBtn && langOptions) {
                langBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    langOptions.classList.toggle('show');
                });
                
                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (!langBtn.contains(e.target) && !langOptions.contains(e.target)) {
                        langOptions.classList.remove('show');
                    }
                });
            }
            
            // Message close functionality
            const closeButtons = document.querySelectorAll('.close-message');
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.parentElement.style.display = 'none';
                });
            });
        });
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>